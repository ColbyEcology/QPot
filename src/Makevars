# See Section 1.2.1 "Using 'Makevars'" of Writing R Extensions
# cran.r-project.org/doc/manuals/R-exts.pdf
# taken from http://mazamascience.com/WorkingWithData/?p=1151
 
PKG_CFLAGS=-I.
PKG_CPPFLAGS=
PKG_LIBS=-lm 

all: $(SHLIB)

expression_parser.o: expression_parser.c
	$(CC) -c -fPIC expression_parser.c $(CFLAGS) $(ALL_LIBS) -lm

upwindorderedv4.o: upwindorderedv4.c expression_parser.o
	$(CC) -c -fPIC upwindorderedv4.c $(CFLAGS) $(ALL_LIBS) -lm
	$(CC) upwindorderedv4.o expression_parser.o $(CFLAGS) $(ALL_LIBS)  -lm
