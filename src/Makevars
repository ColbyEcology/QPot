# See Section 1.2.1 "Using 'Makevars'" of Writing R Extensions
# cran.r-project.org/doc/manuals/R-exts.pdf
# taken from http://mazamascience.com/WorkingWithData/?p=1151

# makevars from lme4.0
#PKG_LIBS=$(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)
# default 'lme4.0.so' does not work in Namespace registration for R <= 2.14.x
#all: lme4.so
#lme4.so: $(OBJECTS)
#	$(SHLIB_LINK) -o $@ $(OBJECTS) $(ALL_LIBS)
#

#by magic, this includes R.h, whereas the makevars below does not
#PKG_LIBS=$(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)
all: upwindorderedv4.so
upwindorderedv4.so: $(OBJECTS)
	$(SHLIB_LINK) -o $@ $(OBJECTS) $(ALL_LIBS)

# current makevars works 31 July 2015 
#PKG_CFLAGS=-I.
#PKG_CPPFLAGS=
#PKG_LIBS=-lm 
#
#all: $(SHLIB)
#
#expression_parser.o: expression_parser.c
#	$(CC) -c -fPIC expression_parser.c $(CFLAGS) $(ALL_LIBS) -lm
#
#upwindorderedv4.o: upwindorderedv4.c expression_parser.o
#	$(CC) -c -fPIC upwindorderedv4.c $(CFLAGS) $(ALL_LIBS) -lm
#	$(CC) upwindorderedv4.o expression_parser.o $(CFLAGS) $(ALL_LIBS)  -lm
